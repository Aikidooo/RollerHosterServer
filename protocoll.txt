
protocoll: TCP
server_port: 6969
client_port: *



Table of contents:
1. Packets
    1.1 Packet layout
    1.2 Packet states

2.1 Authentication


1.1 Packet Layout
    The basic Packet Layout consists of for field that are defined in this section.

    Fields:

        Packetlength (how many bits): 2 Bytes
        State: 1 Byte
        Cookie: 2 Bytes
        Data: * Bytes (until the end of the Packet)

    Example:

        111000 + 1000101 + 0000000000000000 + 1010010001010101

        Packetlength (111000) + State (1000101 in this case) + Cookie (0000000000000000 in this case) + Data (1010010001010101 in this case)




1.2 Packet states
    Packets send between server and client can have different states depending on there




2.1 Authentication:
    The authentication of the client happens on Connection Start.

    The client begins Communication and sends an authentication request:

        C -> S

        packetlength: *
        State: 00000000
        Cookie: 00000000
        Data: Token(utf-8 to binary)

    The server answers with a "set-cookie" request if the token was valid (cookie is stored in the cookie field). 
    If the token send by the client isn't valid the server closes the connection.

        C <- S

        packetlength: *
        State: 0
        Cookie: Cookie (2 Bytes)
        Data: 00000000

    The Client is now Authenticated and the conecction is ready to use.
    IMPORTANT: The cookie expires after the connection closes.

